<section class="glass rounded-2xl p-6">
  <h3 class="text-lg font-semibold mb-3">Motion Sensor</h3>
  <label class="flex items-center gap-3">
    <input id="motion" type="checkbox" class="w-5 h-5">
    <span>Enabled</span>
  </label>
  <label class="flex items-center gap-3 mt-3">
    <span>Active Time (s)</span>
    <input id="motionDuration" type="number" min="1" max="600" value="30" class="w-20 rounded border px-2 py-1">
  </label>
</section>
<script>
const motion=document.getElementById('motion');
const duration=document.getElementById('motionDuration');
async function post(path, body){const res=await fetch(path,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(body)});if(!res.ok){alert('Request failed');}}
const nodeApiId={{ (api_node_id or node.id)|tojson }};
async function send(){await post(`/api/node/${nodeApiId}/motion`,{enabled:motion.checked,duration:parseInt(duration.value)});}
motion.addEventListener('change',send);
duration.addEventListener('change',send);
</script>
