# Room Presets

The server can expose room-level "presets"—named groups of actions that
apply to every node in a room.  Presets are stored in
``Server/app/custom_presets.json`` and are surfaced on each room page and
through the API.  Each preset entry maps a house and room identifier to a list
of action payloads.

## Example: swell all white channels

``custom_presets.json`` bundles a few seeded presets generated from helper
functions in ``app/presets/actions``.  Those helpers (for example
``white_swell_actions``) produce the action payloads that ultimately get
persisted as JSON.  The snippet below shows how a ``white_swell_actions`` call
materializes once serialized—fading all white channels from off to a brightness
of 100 over five seconds for both nodes in ``del-sur``'s ``room-1``:

```json
{
  "del-sur": {
    "room-1": [
      {
        "id": "white-swell-100",
        "name": "White Swell 0→100",
        "actions": [
          {"module": "white", "node": "del-sur-room-1-node1", "channel": 0,
           "effect": "swell", "brightness": 255, "params": [0, 255, 5000]},
          {"module": "white", "node": "del-sur-room-1-node1", "channel": 1,
           "effect": "swell", "brightness": 255, "params": [0, 255, 5000]},
          {"module": "white", "node": "del-sur-room-1-node1", "channel": 2,
           "effect": "swell", "brightness": 255, "params": [0, 255, 5000]},
          {"module": "white", "node": "del-sur-room-1-node1", "channel": 3,
           "effect": "swell", "brightness": 255, "params": [0, 255, 5000]},
          {"module": "white", "node": "node", "channel": 0,
           "effect": "swell", "brightness": 255, "params": [0, 255, 5000]},
          {"module": "white", "node": "node", "channel": 1,
           "effect": "swell", "brightness": 255, "params": [0, 255, 5000]},
          {"module": "white", "node": "node", "channel": 2,
           "effect": "swell", "brightness": 255, "params": [0, 255, 5000]},
          {"module": "white", "node": "node", "channel": 3,
           "effect": "swell", "brightness": 255, "params": [0, 255, 5000]}
        ],
        "source": "seed"
      }
    ]
  }
}
```

Triggering this preset causes each node's white channels (0–3) to fade from
brightness 0 to 100 in five seconds and hold that final level.

## Kitchen presets

Both houses include a `kitchen` room with several predefined presets showcasing
more targeted swells:

* **Swell On** – channels 0‑2 swell from 0 to 100 over five seconds.
* **Midnight Snack** – channel 0 swells 0→10 and channel 1 swells 0→50.
* **Kitchen's Closed** – channel 2 swells 100→255 while channels 0 and 1 dim
  from 100 to 0.
* **Normal** – channels 0‑2 swell from 0 to 150 over five seconds.

These definitions now live in ``custom_presets.json`` but are still generated by
the same action helpers, so they remain easy to extend or recreate via the web
UI's "Save Preset" feature.
