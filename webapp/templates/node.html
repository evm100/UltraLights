<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Node {{ node.node_id }}</title>
    <link rel="stylesheet" href="/static/style.css">
    <script src="/static/node.js"></script>
</head>
<body data-node="{{ node.node_id }}">
<h1>Node {{ node.node_id }}</h1>
<div id="status" class="status">Disconnected</div>
<div>
    <label>Master Brightness
        <input type="range" id="brightness" min="0" max="255" value="255">
    </label>
</div>

<h2>RGB Strips</h2>
{% for strip in node.rgb_strips %}
<div class="strip" data-strip="{{ strip.index }}">
    <h3>{{ strip.name }} ({{ strip.index }})</h3>
    <label>Effect
        <select class="effect">
            <option value="solid">solid</option>
            <option value="breathe">breathe</option>
            <option value="rainbow">rainbow</option>
            <option value="twinkle">twinkle</option>
            <option value="theater_chase">theater_chase</option>
            <option value="wipe">wipe</option>
            <option value="gradient_scroll">gradient_scroll</option>
            <option value="triple_wave">triple_wave</option>
        </select>
    </label>
    <label>Color <input type="color" class="color" value="#ffffff"></label>
    <button class="send">Send</button>
    <button class="power" data-on="true">Power</button>
</div>
{% endfor %}

<h2>White Channels</h2>
{% for ch in node.white_channels %}
<div class="white" data-channel="{{ ch.index }}">
    <h3>{{ ch.name }} ({{ ch.index }})</h3>
    <label>Effect
        <select class="effect">
            <option value="breathe">breathe</option>
        </select>
    </label>
    <button class="send">Send</button>
</div>
{% endfor %}

<h2>Sensors</h2>
{% for sensor in node.sensors %}
<div class="sensor" data-type="{{ sensor.type }}">
    <h3>{{ sensor.name }}</h3>
    <label>Cooldown (s) <input type="number" class="cooldown" min="10" max="3600" value="60"></label>
    <button class="set-cooldown">Set Cooldown</button>
</div>
{% endfor %}

<div>
    <button id="ota">Trigger OTA Check</button>
</div>

<script>
    initNodePage();
</script>
</body>
</html>
